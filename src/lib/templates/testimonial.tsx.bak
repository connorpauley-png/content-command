import { ReactElement } from 'react';

interface TestimonialData {
  quote: string;
  name: string;
  location?: string;
  rating?: number;
  brandColors?: { primary?: string; accent?: string; background?: string; text?: string };
}

export function Testimonial(data: TestimonialData): ReactElement {
  const accent = data.brandColors?.accent || '#e2b93b';
  const text = data.brandColors?.text || '#ffffff';
  const primary = data.brandColors?.primary || '#254421';
  const stars = data.rating || 5;

  return (
    <div style={{ display: 'flex', position: 'relative', width: 1080, height: 1080, background: 'linear-gradient(150deg, #162112 0%, #0a0a0a 50%, #111 100%)', overflow: 'hidden' }}>
      {/* Large quote mark background */}
      <div style={{ display: 'flex', position: 'absolute', top: 40, right: 60, fontSize: 350, fontWeight: 900, color: `${accent}0a`, lineHeight: 1 }}>"</div>
      {/* Top accent bar */}
      <div style={{ display: 'flex', position: 'absolute', top: 0, left: 0, width: '100%', height: 6, background: `linear-gradient(90deg, ${accent}, ${primary}, ${accent}00)` }} />
      {/* Circle accents */}
      <div style={{ display: 'flex', position: 'absolute', bottom: -60, right: -60, width: 250, height: 250, borderRadius: 125, background: `${primary}22` }} />
      <div style={{ display: 'flex', position: 'absolute', top: 200, left: -40, width: 80, height: 80, borderRadius: 40, border: `2px solid ${accent}15` }} />
      {/* Content */}
      <div style={{ display: 'flex', flexDirection: 'column', position: 'relative', width: '100%', height: '100%', padding: 90, justifyContent: 'space-between' }}>
        {/* Stars */}
        <div style={{ display: 'flex', flexDirection: 'row', gap: 8 }}>
          {Array.from({ length: stars }).map((_, i) => (
            <div key={i} style={{ display: 'flex', width: 40, height: 40, borderRadius: 4, background: `linear-gradient(135deg, ${accent}, #c99a2e)`, alignItems: 'center', justifyContent: 'center' }}>
              <p style={{ display: 'flex', fontSize: 22, color: '#0a0a0a' }}>*</p>
            </div>
          ))}
        </div>
        {/* Quote */}
        <div style={{ display: 'flex', flexDirection: 'column', flex: 1, justifyContent: 'center', marginTop: 30, marginBottom: 30 }}>
          <p style={{ display: 'flex', fontSize: 48, fontWeight: 700, color: text, lineHeight: 1.25 }}>
            "{data.quote}"
          </p>
        </div>
        {/* Attribution */}
        <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', gap: 20 }}>
          <div style={{ display: 'flex', width: 56, height: 56, borderRadius: 28, background: `linear-gradient(135deg, ${accent}44, ${primary}44)`, alignItems: 'center', justifyContent: 'center' }}>
            <p style={{ display: 'flex', fontSize: 24, fontWeight: 800, color: accent }}>{data.name.charAt(0)}</p>
          </div>
          <div style={{ display: 'flex', flexDirection: 'column', gap: 4 }}>
            <p style={{ display: 'flex', fontSize: 28, fontWeight: 700, color: text, lineHeight: 1.3 }}>{data.name}</p>
            {data.location && (
              <p style={{ display: 'flex', fontSize: 20, fontWeight: 400, color: '#888888', lineHeight: 1.3 }}>{data.location}</p>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
